import{r as t,u as h,a as v,j as e}from"./main-CfsT50y0.js";import{L as x}from"./Login-ClZsG9il.js";import{s as c}from"./toast-DASUAV0i.js";import{u as f}from"./useTranslation-Dr7ilz_7.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./createLucideIcon-BVLfzT-S.js";import"./check-C4eg8Me1.js";const L=()=>{const[a,d]=t.useState(""),[o,u]=t.useState(""),[r,l]=t.useState(!1),{loginDevice:m}=h(),{t:i}=f(),p=v(),g=async s=>{s.preventDefault(),l(!0);const n=await m(a,o);n.success?(c("success",i("login.accessGranted"),`Welcome to ${n.deviceId}`),p(`/#/Id/${n.deviceId}`)):c("error",i("login.accessDenied"),n.error||i("login.invalidPin")),l(!1)};return e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-card",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("h1",{children:i("login.deviceTitle")}),e.jsx("p",{children:i("login.deviceSubtitle")})]}),e.jsxs("form",{onSubmit:g,className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"deviceId",children:i("login.deviceId")}),e.jsx("input",{type:"text",id:"deviceId",value:a,onChange:s=>d(s.target.value.toUpperCase()),placeholder:"BIKE001",required:!0,autoComplete:"off"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pin",children:i("login.pinCode")}),e.jsx("input",{type:"password",id:"pin",value:o,onChange:s=>u(s.target.value),placeholder:"â€¢â€¢â€¢â€¢",required:!0,autoComplete:"off",maxLength:"6",pattern:"[0-9]*",inputMode:"numeric"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:r,children:r?"ðŸ”„ "+i("login.verifying"):"ðŸ”“ "+i("login.accessBtn")}),e.jsx(x,{})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:e.jsx("a",{href:"#/admin/login",children:i("login.adminLink")})})})]})})};export{L as default};
